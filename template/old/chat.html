{% extends "template.html" %}

    {% block extra_js %}

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
	{% load socketio_tags %}
	{% socketio %}
	<script type="text/javascript" src="/js/chat.js"></script>

    <script>
        var showForm = function() {
            $('form').slideDown(function() {
                $('form input[type="text"]').focus();
            });
        };
    </script>

	<script>window.room = {{ room.id }};</script>

{% endblock %}


{% block main %}
<div class="post">
	<center>
		<h2>Game Room</h2><br />

		<div id="chatwindow">
			<ul id="messages">
				<script type="text/x-jquery-tmpl">
					<li class="${action}">(${time}) ${name}: ${message}</li>
				</script>
			</ul>
		</div>

		<ul id="users">
			<script type="text/x-jquery-tmpl">
				<li id="user-${id}">${name}</li>
			</script>
		</ul>

		<form>
			<input type="text" id="message" name="message">
			<input type="submit" id="submit" value="Join">
			<input type="button" id="leave" value="Leave">
		</form>


	</center>
</div>
{% endblock %}
